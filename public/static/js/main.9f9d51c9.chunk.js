(this.webpackJsonpironconnectappclient=this.webpackJsonpironconnectappclient||[]).push([[0],{14:function(e,t){e.exports="data:image/png;base64,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"},22:function(e,t,a){e.exports=a(32)},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),l=a(3),i=a(1),s=function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h2",null,"Homeeeeeeee"),r.a.createElement("p",{className:"lead"},"Welcome to react"))},u="http://localhost:3001",m=function(e){return"undefined"!==typeof window&&localStorage.removeItem("jwt"),e(),fetch("".concat(u,"/sigout"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},d=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},f=function(e,t){return e.location.pathname===t?{color:"#ff9900"}:{color:"#ffffff"}},h=Object(i.g)((function(e){var t=e.history;return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs bg-dark"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",style:f(t,"/"),to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",style:f(t,"/users"),to:"/users"},"Users")),!d()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",style:f(t,"/signin"),to:"/signin"},"Sign In")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",style:f(t,"/signup"),to:"/signup"},"Sign Up"))),d()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link",style:(f(t,"/signout"),{cursor:"pointer",color:"#fff"}),onClick:function(){return m((function(){return t.push("/")}))}},"Sign Out")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"/api/user/".concat(d().user._id),style:f(t,"/api/user/".concat(d().user._id)),className:"nav-link"},"".concat(d().user.name,"'s profile"))))))})),p=a(8),A=a(4),E=a(5),g=a(7),v=a(6),b=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(A.a)(this,a),(e=t.call(this)).handleChange=function(t){return function(a){e.setState({error:""}),e.setState(Object(p.a)({},t,a.target.value))}},e.clickSubmit=function(t){t.preventDefault();var a=e.state;(function(e){return fetch("".concat(u,"/api/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})({name:a.name,email:a.email,password:a.password}).then((function(t){t.error?e.setState({error:t.error}):e.setState({error:"",name:"",email:"",password:"",open:!0})}))},e.signupForm=function(t,a,n){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{onChange:e.handleChange("name"),type:"text",className:"form-control",value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{onChange:e.handleChange("email"),type:"email",className:"form-control",value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{onChange:e.handleChange("password"),type:"password",className:"form-control",value:n})),r.a.createElement("button",{onClick:e.clickSubmit,className:"btn btn-raised btn-primary"}," Submit"))},e.state={name:"",email:"",password:"",error:"",open:!1},e}return Object(E.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password,c=e.error,o=e.open;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"SignUp"),r.a.createElement("div",{className:"alert alert-danger",style:{display:c?"":"none"}},c),r.a.createElement("div",{className:"alert alert-info",style:{display:o?"":"none"}},"WELCOME BISH! Account is created. Please ",r.a.createElement(l.b,{to:"/signin"},"Sign In"),". "),this.signupForm(t,a,n))}}]),a}(n.Component),O=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(A.a)(this,a),(e=t.call(this)).handleChange=function(t){return function(a){e.setState({error:" "}),e.setState(Object(p.a)({},t,a.target.value))}},e.clickSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a=e.state;(function(e){return fetch("".concat(u,"/api/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})({email:a.email,password:a.password}).then((function(t){var a,n;t.error?e.setState({error:t.error,loading:!1}):(a=t,n=function(){e.setState({redirectToRefer:!0})},"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(a)),n()))}))},e.signinForm=function(t,a){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{onChange:e.handleChange("email"),type:"email",className:"form-control",value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{onChange:e.handleChange("password"),type:"password",className:"form-control",value:a})),r.a.createElement("button",{onClick:e.clickSubmit,className:"btn btn-raised btn-primary"}," Submit"))},e.state={email:"",password:"",error:"",redirectToRefer:!1,loading:!1},e}return Object(E.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,c=e.redirectToRefer,o=e.loading;return c?r.a.createElement(i.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"SignIn"),r.a.createElement("div",{className:"alert alert-danger",style:{display:n?"":"none"}},n),o?r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h2",null,"Loading...Wait a minute..")):"",this.signinForm(t,a))}}]),a}(n.Component),w=function(e,t){return fetch("".concat(u,"/api/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},N=function(e,t){return fetch("".concat(u,"/api/user/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},D=function(e,t,a){return a?fetch("".concat(u,"/api/user/follow"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({Id:e,followId:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})):{err:"Please send FollowID "}},j=function(e,t,a){return fetch("".concat(u,"/api/user/unfollow"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({Id:e,unfollowId:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},C=a(14),y=a.n(C),Q=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={redirect:!1},e.deleteAccount=function(){var t=d().token,a=e.props.Id;N(a,t).then((function(t){t.error?console.log(t.error):(m((function(){return console.log("User is deleted")})),e.setState({redirect:!0}))}))},e.deleteConfirmed=function(){window.confirm("You sure you wanna leve us Ironhacker?")&&e.deleteAccount()},e}return Object(E.a)(a,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(i.a,{to:"/"}):r.a.createElement("button",{onClick:this.deleteConfirmed,className:"btn btn-raised btn-danger"},"Delete Profile")}}]),a}(n.Component),x=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).followClick=function(){e.props.onButtonClick(D)},e.unfollowClick=function(){e.props.onButtonClick(j)},e}return Object(E.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"d-inline-block"},this.props.following?r.a.createElement("button",{onClick:this.unfollowClick,className:"btn btn-warning btn-raised"},"UnFollow "):r.a.createElement("button",{onClick:this.followClick,className:"btn btn-sucess btn-raised mr-5"},"Follow "))}}]),a}(n.Component),I=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){return Object(A.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){var e=this.props,t=e.following,a=e.followers;return r.a.createElement("div",null,r.a.createElement("div",null,"following",JSON.stringify(t)),r.a.createElement("div",null,"followers",JSON.stringify(a)))}}]),a}(n.Component),k=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(A.a)(this,a),(e=t.call(this)).checkFollow=function(e){var t=d();return console.log(e.followers),e.followers.find((function(e){return console.log(e),e._id==t.user._id}))},e.clickFollowButton=function(t){t(d().user._id,d().token,e.state.user._id).then((function(t){t.error?e.setState({error:t.error}):e.setState({user:t,following:!e.state.following})}))},e.init=function(t){var a=d().token;w(t,a).then((function(t){if(t.error)e.setState({redirectToSignin:!0});else{var a=e.checkFollow(t);e.setState({user:t,following:a})}}))},e.state={user:{following:[],followers:[]},redirectToSignin:!1,following:!1,error:""},e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.Id;this.init(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.Id;this.init(t)}},{key:"render",value:function(){var e,t=this.state,a=t.redirectToSignin,n=t.user;return a?r.a.createElement(i.a,{to:"/signin"}):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Profile"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("img",(e={src:"",className:"card-img-top"},Object(p.a)(e,"src",y.a),Object(p.a)(e,"alt","Card image cap"),Object(p.a)(e,"alt",n.name),Object(p.a)(e,"style",{width:"100%",height:"15vw",objectFit:"cover"}),e))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"lead mt-2"},r.a.createElement("p",null,"Hello ",n.name),r.a.createElement("p",null,"Email ",n.email),r.a.createElement("p",null,"Joined ".concat(new Date(n.created).toDateString()))),d().user&&d().user._id===n._id?r.a.createElement("div",{className:"d-inline-block"},r.a.createElement(l.b,{className:"btn btn-raised btn-success mr-5",to:"/user/edit/".concat(n._id)}," Edit Profile"),r.a.createElement(Q,{Id:n._id})):r.a.createElement(x,{following:this.state.following,onButtonClick:this.clickFollowButton}),r.a.createElement(I,{followers:n.followers,following:n.following}))))}}]),a}(n.Component),T=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(A.a)(this,a),(e=t.call(this)).renderUsers=function(e){return r.a.createElement("div",{className:"row"},e.map((function(e,t){var a;return r.a.createElement("div",{className:"card col-md-4",style:{width:"18rem"},key:t},r.a.createElement("img",(a={src:"",className:"card-img-top"},Object(p.a)(a,"src",y.a),Object(p.a)(a,"alt","Card image cap"),Object(p.a)(a,"alt",e.name),Object(p.a)(a,"style",{width:"100%",height:"15vw",objectFit:"cover"}),a)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text"},e.email),r.a.createElement(l.b,{to:"/api/user/".concat(e._id),className:"btn btn-raised btn-primary btn-sm"},"View Profile")))})))},e.state={users:[]},e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(u,"/api/users"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(t){t.error?console.log(t.error):e.setState({users:t})}))}},{key:"render",value:function(){var e=this.state.users;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Users"),this.renderUsers(e))}}]),a}(n.Component),S=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(A.a)(this,a),(e=t.call(this)).init=function(t){var a=d().token;w(t,a).then((function(t){t.error?e.setState({redirectToProfile:!0}):e.setState({id:t._id,name:t.name,email:t.email,error:""})}))},e.handleChange=function(t){return function(a){var n="photo"===t?a.target.files[0]:a.target.value;e.userData.set(t,n),e.setState(Object(p.a)({},t,n))}},e.clickSubmit=function(t){t.preventDefault();var a=e.state;a.name,a.email,a.password;(function(e,t,a){return fetch("".concat(u,"/api/user/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e.props.match.params.Id,d().token,e.userData).then((function(t){t.error?e.setState({error:t.error}):e.setState({redirectToProfile:!0})}))},e.signupForm=function(t,a,n){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Profile Photo"),r.a.createElement("input",{onChange:e.handleChange("photo"),type:"file",accept:"image/*",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{onChange:e.handleChange("name"),type:"text",className:"form-control",value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{onChange:e.handleChange("email"),type:"email",className:"form-control",value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{onChange:e.handleChange("password"),type:"password",className:"form-control",value:n})),r.a.createElement("button",{onClick:e.clickSubmit,className:"btn btn-raised btn-primary"}," Update"))},e.state={id:"",name:"",email:"",password:"",redirectToProfile:!1},e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){this.userData=new FormData;var e=this.props.match.params.Id;this.init(e)}},{key:"render",value:function(){var e=this.state,t=e.id,a=e.name,n=e.email,c=e.password;return e.redirectToProfile?r.a.createElement(i.a,{to:"/user/".concat(t," ")}):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Edit Profile"),this.signupForm(a,n,c))}}]),a}(n.Component),H=function(){return r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:s}),r.a.createElement(i.b,{exact:!0,path:"/users",component:T}),r.a.createElement(i.b,{exact:!0,path:"/signup",component:b}),r.a.createElement(i.b,{exact:!0,path:"/signin",component:O}),r.a.createElement(i.b,{exact:!0,path:"/user/edit/:Id",component:S}),r.a.createElement(i.b,{exact:!0,path:"/api/user/:Id",component:k})))},M=function(){return r.a.createElement(l.a,null,r.a.createElement(H,null))};o.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.9f9d51c9.chunk.js.map